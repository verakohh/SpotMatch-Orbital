import {doc, setDoc} from 'firebase/firestore'
import { db } from '../firebase';
class User {
    constructor(firstName, lastName, email, userId, artists) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.email =email;
        this.userId = userId;
        this.artists = artists;
    }

    async setArtists(artists) {
        this.artists = artists;
        // const ref = doc(db, 'users').withConverter(userConverter);
        // await setDoc(ref, new User(""))

    }
}

const userConverter = {
    toFirestore: (user) => {
        return {
            firstName: user.firstName,
            lastName: user.lastName,
            email: user.email,
            userId: user.userId,
            artists: user.artists

        };
    },
    fromFirestore: (snapshot, options) => {
        const data= snapshot.data(options);
        return new User(data.firstName, data.lastName, data.email, data.userId, data.artists)
    }
};